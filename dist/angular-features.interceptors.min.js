/*!
angular-features v0.3.0 2015-09-13, Jim Schubert (c) 2015 MIT License
Purl: Licensed under an MIT-style license. See https://github.com/allmarkedup/jQuery-URL-Parser/blob/master/LICENSE for details.
*/
!function(){!function(){"use strict";var a="inc.features.services",b="featureInclusion",c=angular.module(a,["inc.features.urlparser"]);c.provider(b,function(){var c=this,d="data",e="feature",f=["html"],g=!0,h="["+a+"|"+b+"] ",i=[],j=!0;c.setPrefix=function(a){if(!angular.isString(a))throw new Error(h+"setPrefix requires a string parameter");return d=a,c},c.setAttribute=function(a){if(!angular.isString(a))throw new Error(h+"setAttribute requires a string parameter");return e=a,c},c.addExtension=function(a){if(!angular.isString(a))throw new Error(h+"addExtension requires a string parameter");return-1===f.indexOf(a)&&f.push(a),c},c.enableCaching=function(a){return angular.isUndefined(a)&&(a=!0),j=a,c},c.enableLogging=function(a){return angular.isUndefined(a)&&(a=!0),g=a,c},c.addFeature=function(a){return-1===i.indexOf(a)&&i.push(a),c},c.defineAllFeatures=function(a){if(!angular.isArray(a))throw new Error(h+"defineAllFeatures must be passed an array of strings");return i=a,c},this.$get=["$log","$q","$templateCache","urlparser",function(a,b,c,k){function l(a,b){this.features=a,this.extensions=b}var m=/[^\.]*?\.(.*)/,n=[d,e].join("-");return l.prototype.response=function(d){var e,l,o;try{if(j&&(e=c.get(d.config.url))&&angular.isString(e[0]))d.data=e;else if(l=k.parse(d.config.url),(o=m.exec(l.file))&&-1!==f.indexOf(o[1])){if(e=angular.element(d.data),angular.isDefined(e[0])){e=e[0];var p=e.querySelectorAll("["+n+"]");1===p.length&&p[0]===e?e.innerHTML="":angular.forEach(p,function(a){-1===i.indexOf(angular.element(a).attr(n))&&a.remove()}),j&&c.put(d.config.url,e.innerHTML),d.data=e.innerHTML}}else g&&a.debug(h+"FileType not included for processing")}catch(q){a.error(h+"Unexpected error."),b.reject(d)}return d},l.prototype.responseError=function(c){return g&&a.warn(h+"Unable to evaluate response due to external error"),b.reject(c)},new l(i.slice(0),f.slice(0))}]})}()}();
//# sourceMappingURL=angular-features.interceptors.min.js.map